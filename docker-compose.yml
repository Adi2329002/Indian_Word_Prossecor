version: '3'
services:
  web:
    build:
      context: .
      # 1. Used during "npm run build" (Bakes into JS)
      args:
        # âœ… Correct (Matches your screenshot)
        NEXT_PUBLIC_CONVEX_URL: "https://modest-meerkat-65.convex.cloud" 
        NEXT_PUBLIC_CLERK_PUBLISHABLE_KEY: "pk_test_d29ya2FibGUtbW90aC04NC5jbGVyay5hY2NvdW50cy5kZXYk"
    
    # 2. Used when the app Starts (Server-Side Rendering)
    environment:
      # ðŸ‘‡ FIX THIS LINE (It was still "polished-lionfish")
      NEXT_PUBLIC_CONVEX_URL: "https://first-rook-678.convex.cloud"
      
      NEXT_PUBLIC_CLERK_PUBLISHABLE_KEY: "pk_test_cG9saXNoZWQtbGlvbmZpc2gtNjYuY2xlcmsuYWNjb3VudHMuZGV2JA"
      
    ports:
      - "3000:3000"